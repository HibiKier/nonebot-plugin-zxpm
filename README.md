<div align=center>

<img width="250" height="312" src="https://github.com/HibiKier/nonebot-plugin-zxpm/blob/main/docs_image/tt.jpg"/>

</div>

<div align="center">

<p>
  <img src="https://raw.githubusercontent.com/lgc-NB2Dev/readme/main/template/plugin.svg" alt="NoneBotPluginText">
</p>

# nonebot-plugin-zxpm

_âœ¨ åŸºäº [NoneBot2](https://github.com/nonebot/nonebot2) çš„ä¸€ä¸ª æ’ä»¶ç®¡ç†æ’ä»¶ âœ¨_

![python](https://img.shields.io/badge/python-v3.9%2B-blue)
![nonebot](https://img.shields.io/badge/nonebot-v2.1.3-yellow)
![onebot](https://img.shields.io/badge/onebot-v11-black)
[![license](https://img.shields.io/badge/license-AGPL3.0-FE7D37)](https://github.com/HibiKier/zhenxun_bot/blob/main/LICENSE)

</div>

## ğŸ“– ä»‹ç»

[å°çœŸå¯»](https://github.com/HibiKier/zhenxun_bot) çš„æ’ä»¶æƒé™ç®¡ç†ç³»ç»Ÿï¼Œæä¾›äº†

- **ç»†è‡´çš„æ’ä»¶å¼€å…³**
- **Ban ç¾¤ç»„/ç”¨æˆ·ï¼ˆæ¶ˆæ¯å±è”½ï¼‰**
- **æ’ä»¶ Cdï¼ŒCountï¼ŒBlock é™åˆ¶**
- ç¾¤ç®¡ç›‘æµ‹(æƒé™è‡ªåŠ¨è®¾ç½®)
- ç”¨æˆ·æƒé™è®¾ç½®(è¶…çº§ç”¨æˆ·è®¾ç½®)
- ä¸€ä¸ªç®€å•çš„å¸®åŠ©æŸ¥çœ‹

ç»§æ‰¿äº†çœŸå¯»çš„ä¼˜è‰¯ä¼ ç»Ÿï¼Œé«˜è´µçš„**è¶…çº§ç”¨æˆ·**ä¸å—æƒé™æ§åˆ¶ï¼Œé™¤éæ’ä»¶é¢å¤–é™åˆ¶

> [!NOTE]
>
> <div align="center"><b>å°çœŸå¯»ä¹Ÿå¾ˆå¯çˆ±å‘€ï¼Œä¹Ÿä¼šå¾ˆå–œæ¬¢ä½ ï¼</b></div>
>
> <div align="center"><img width="250" height="250" src="https://github.com/HibiKier/nonebot-plugin-zxpm/blob/main/docs_image/tt3.png"/><img width="250" height="250" src="https://github.com/HibiKier/nonebot-plugin-zxpm/blob/main/docs_image/tt1.png"/><img width="250" height="250" src="https://github.com/HibiKier/nonebot-plugin-zxpm/blob/main/docs_image/tt2.png"/></div>

## ğŸ’¿ å®‰è£…

```python
pip install nonebot-plugin-zxpm
```

```python
nb plugin install nonebot-plugin-zxpm
```

## ğŸ ä½¿ç”¨

## é…ç½®

| é…ç½®                    | ç±»å‹ |        é»˜è®¤å€¼        | è¯´æ˜                                                |
| :---------------------- | :--: | :------------------: | --------------------------------------------------- |
| zxpm_db_url             | str  | data/zxpm/db/zxpm.db | æ•°æ®åº“åœ°å€ï¼Œé»˜è®¤ä¸º sqlite                           |
| zxpm_notice_info_cd     | int  |         300          | ç¾¤/ç”¨æˆ·æƒé™æ£€æµ‹ç­‰å„ç§æ£€æµ‹æç¤ºä¿¡æ¯ cdï¼Œä¸º 0 æ—¶ä¸æé†’ |
| zxpm_ban_reply          | str  |  æ‰ä¸ä¼šç»™ä½ å‘æ¶ˆæ¯.   | ç”¨æˆ·è¢« ban æ—¶å›å¤æ¶ˆæ¯ï¼Œä¸ºç©ºæ—¶ä¸å›å¤                 |
| zxpm_ban_level          | int  |          5           | ä½¿ç”¨ ban åŠŸèƒ½çš„å¯¹åº”æƒé™                             |
| zxpm_switch_level       | int  |          1           | ä½¿ç”¨å¼€å…³åŠŸèƒ½çš„å¯¹åº”æƒé™                              |
| zxpm_admin_default_auth | int  |          5           | ç¾¤ç»„ç®¡ç†å‘˜é»˜è®¤æƒé™                                  |
| zxpm_font               | str  |       msyh.ttc       | ä½œå›¾æ—¶å­—ä½“                                          |

## å¸®åŠ©

| æŒ‡ä»¤ | æ ¼å¼ | æƒé™ç­‰çº§ | å‚æ•° | ä½œç”¨                     | ç¤ºä¾‹                                                                        |
| :--: | :--: | :------: | :--: | ------------------------ | --------------------------------------------------------------------------- |
| zxpm | zxpm |    0     |  -s  | æä¾›ä¸€ä¸ªç®€å•è¯¦æƒ…å¸®åŠ©å›¾ç‰‡ | `zxpm Ban`: æŸ¥çœ‹ Ban çš„ç”¨æˆ·å¸®åŠ© <br> `zxpm Ban -s`: æŸ¥çœ‹ Ban çš„è¶…çº§ç”¨æˆ·å¸®åŠ© |

> [!NOTE]
> è¿™é‡Œçš„æŒ‡ä»¤åªæ˜¯å†™äº†ä¸ªå¤§æ¦‚ï¼ŒåŠŸèƒ½å¼€å…³æŒ‡ä»¤æ¯”è¾ƒå¤æ‚
> å»ºè®®å¯¹ bot å‘é€ `zxpm ZXPMæ’ä»¶ç®¡ç†` å’Œ `zxpm ZXPMæ’ä»¶ç®¡ç† -s` æ¥æŸ¥çœ‹è¯¦ç»†å¸®åŠ©

## æƒé™è®¾ç½®

|   æŒ‡ä»¤   |         æ ¼å¼          | æƒé™ç­‰çº§  | å‚æ•° | ä½œç”¨                     | ç¤ºä¾‹               |
| :------: | :-------------------: | :-------: | :--: | ------------------------ | ------------------ |
| æ·»åŠ æƒé™ | æ·»åŠ æƒé™ [level] [at] | SUPERUSER |      | ä¸ºç”¨æˆ·æä¾›æ’ä»¶ç®¡ç†ç­‰æƒé™ | `æ·»åŠ æƒé™ 5 @user` |
| åˆ é™¤æƒé™ |     åˆ é™¤æƒé™ [at]     | SUPERUSER |      | ä¸ºç”¨æˆ·æä¾›æ’ä»¶ç®¡ç†ç­‰æƒé™ | `åˆ é™¤æƒé™ @user`   |

## Ban/unBan

**ç¾¤ç»„ç®¡ç†å‘˜**

| æŒ‡ä»¤  |               æ ¼å¼               | æƒé™ç­‰çº§  | å‚æ•°  | ä½œç”¨                                                | ç¤ºä¾‹                                                   |
| :---: | :------------------------------: | :-------: | :---: | --------------------------------------------------- | ------------------------------------------------------ |
|  Ban  | ban [At ç”¨æˆ·] ?[-t [æ—¶é•¿(åˆ†é’Ÿ)]] |     5     | -t -g | å±è”½ç”¨æˆ·æˆ–ç¾¤ç»„æ¶ˆæ¯ï¼Œæƒé™ç­‰çº§ä½æ— æ³• Ban ç­‰çº§é«˜çš„ç”¨æˆ· | `ban @ç”¨æˆ·`: æ°¸ä¹… ban<br>`ban @ç”¨æˆ· -t 10`: ban ååˆ†é’Ÿ |
| unBan |         unban [At ç”¨æˆ·]          | SUPERUSER |       | æ¥è§¦è”½ç”¨æˆ·æˆ–ç¾¤ç»„æ¶ˆæ¯ @user                          | `unban @ç”¨æˆ·`: æ”¾å‡ºæ¥                                  |

**è¶…çº§ç”¨æˆ·**

```
ban [Atç”¨æˆ·/ç”¨æˆ·Id] ?[-t [æ—¶é•¿]]
unban --id [idx]  : é€šè¿‡idæ¥è¿›è¡Œunbanæ“ä½œ
banåˆ—è¡¨: è·å–æ‰€æœ‰Banæ•°æ®

ç¾¤ç»„banåˆ—è¡¨: è·å–ç¾¤ç»„Banæ•°æ®
ç”¨æˆ·banåˆ—è¡¨: è·å–ç”¨æˆ·Banæ•°æ®

banåˆ—è¡¨ -u [ç”¨æˆ·Id]: æŸ¥æ‰¾æŒ‡å®šç”¨æˆ·banæ•°æ®
banåˆ—è¡¨ -g [ç¾¤ç»„Id]: æŸ¥æ‰¾æŒ‡å®šç¾¤ç»„banæ•°æ®
ç¤ºä¾‹:
    banåˆ—è¡¨ -u 123456789    : æŸ¥æ‰¾ç”¨æˆ·123456789çš„banæ•°æ®
    banåˆ—è¡¨ -g 123456789    : æŸ¥æ‰¾ç¾¤ç»„123456789çš„banæ•°æ®

ç§èŠä¸‹:
    ç¤ºä¾‹:
    ban 123456789          : æ°¸ä¹…æ‹‰é»‘ç”¨æˆ·123456789
    ban 123456789 -t 100   : æ‹‰é»‘ç”¨æˆ·123456789 100åˆ†é’Ÿ

    ban -g 999999              : æ‹‰é»‘ç¾¤ç»„ä¸º999999çš„ç¾¤ç»„
    ban -g 999999 -t 100       : æ‹‰é»‘ç¾¤ç»„ä¸º999999çš„ç¾¤ç»„ 100åˆ†é’Ÿ

    unban 123456789     : ä»å°é»‘å±‹ä¸­æ‹‰å‡ºæ¥
    unban -g 999999     : å°†ç¾¤ç»„9999999ä»å°é»‘å±‹ä¸­æ‹‰å‡ºæ¥
```

## æ’ä»¶æ§åˆ¶

**ç¾¤ç»„ç®¡ç†å‘˜**

```
æ ¼å¼:
å¼€å¯/å…³é—­[åŠŸèƒ½åç§°]   : å¼€å…³åŠŸèƒ½
å¼€å¯/å…³é—­æ‰€æœ‰æ’ä»¶     : å¼€å¯/å…³é—­å½“å‰ç¾¤ç»„æ‰€æœ‰æ’ä»¶çŠ¶æ€
é†’æ¥                 : ç»“æŸä¼‘çœ 
ä¼‘æ¯å§               : ç¾¤ç»„ä¼‘çœ , ä¸ä¼šå†å“åº”å‘½ä»¤

ç¤ºä¾‹:
å¼€å¯ç­¾åˆ°              : å¼€å¯ç­¾åˆ°
å…³é—­ç­¾åˆ°              : å…³é—­ç­¾åˆ°
```

**è¶…çº§ç”¨æˆ·**

```
æ’ä»¶åˆ—è¡¨
å¼€å¯/å…³é—­[åŠŸèƒ½åç§°] ?[-t ["private", "p", "group", "g"](å…³é—­ç±»å‹)] ?[-g ç¾¤ç»„Id]

å¼€å¯/å…³é—­æ’ä»¶df[åŠŸèƒ½åç§°]: å¼€å¯/å…³é—­æŒ‡å®šæ’ä»¶è¿›ç¾¤é»˜è®¤çŠ¶æ€
    = å¼€å¯æ’ä»¶echo -df
    = å…³é—­æ’ä»¶echo -df
å¼€å¯/å…³é—­æ‰€æœ‰æ’ä»¶df: å¼€å¯/å…³é—­æ‰€æœ‰æ’ä»¶è¿›ç¾¤é»˜è®¤çŠ¶æ€
å¼€å¯/å…³é—­æ‰€æœ‰æ’ä»¶:
    ç§èŠä¸­: å¼€å¯/å…³é—­æ‰€æœ‰æ’ä»¶å…¨å±€çŠ¶æ€
    ç¾¤ç»„ä¸­: å¼€å¯/å…³é—­å½“å‰ç¾¤ç»„æ‰€æœ‰æ’ä»¶çŠ¶æ€

ç§èŠä¸‹:
    ç¤ºä¾‹:
    å¼€å¯ç­¾åˆ°                : å…¨å±€å¼€å¯ç­¾åˆ°
    å…³é—­ç­¾åˆ°                : å…¨å±€å…³é—­ç­¾åˆ°
    å…³é—­ç­¾åˆ° -t p           : å…¨å±€ç§èŠå…³é—­ç­¾åˆ°
    å…³é—­ç­¾åˆ° -g 12345678    : å…³é—­ç¾¤ç»„12345678çš„ç­¾åˆ°åŠŸèƒ½(æ™®é€šç®¡ç†å‘˜æ— æ³•å¼€å¯)
```

**å¯ä¿®æ”¹é…ç½®æ–‡ä»¶**
åœ¨`data/zxpm/configs`è·¯å¾„ä¸‹æœ‰ä»¥ä¸‹ 3 ä¸ªé…ç½®æ–‡ä»¶ï¼Œä¸”æ–‡ä»¶ä¸­å·²æä¾›å‚æ•°è§£é‡Šï¼Œè¿™é‡Œå°±ä¸å†™äº†

- `plugin2block.yaml`: æ’ä»¶é˜»å¡é…ç½®
  ä¾‹å¦‚:

  ```
  zhenxun.builtin_plugins.sign_in:
    status: true
    check_type: ALL
    watch_type: USER
    result: "ä½ ç­¾é‚£ä¹ˆå¿«å¹²ä»€ä¹ˆå•¦"
  ```

- `plugin2cd.yaml`: æ’ä»¶ CD é…ç½®
  ä¾‹å¦‚:

  ```
  zhenxun.builtin_plugins.sign_in:
    status: true
    check_type: ALL
    watch_type: USER
    result: å‘Šè¾
    cd: 12
  ```

- `plugin2count.yaml`: æ’ä»¶æ¯æ—¥æ¬¡æ•°é…ç½®
  ä¾‹å¦‚ï¼š

  ```
    zhenxun.builtin_plugins.help:
    status: false
    watch_type: GROUP
    result: å†çœ‹å°±ææ­»ä½ 
    max_count: 2
  ```

## â¤ æ„Ÿè°¢

- å¯çˆ±çš„å°çœŸå¯» Bot [`zhenxun_bot`](https://github.com/HibiKier/zhenxun_bot): æˆ‘è°¢æˆ‘è‡ªå·±ï¼Œæ¡€æ¡€æ¡€
